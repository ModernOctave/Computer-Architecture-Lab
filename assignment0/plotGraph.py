import matplotlib.pyplot as plt
from matplotlib import cm
from matplotlib.ticker import LinearLocator
import numpy as np

fig, ax = plt.subplots(subplot_kw={"projection": "3d"})

width = np.array([6, 7, 8, 9, 10, 11, 12, 13, 14, 15])
p = np.array([0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.65, 0.7, 0.75, 0.8])
p, width = np.meshgrid(p, width)
estimatedVal = np.array([[77.80516841606622, 88.08282661314126, 102.3493472208739, 123.58024722458038, 157.27266384837935, 216.23604478066218, 264.99347072596623, 337.7598674910694, 455.11760358500305, 664.4154317194561],
[88.94797863069753, 100.687859810722, 117.07615860345744, 141.38417624039354, 179.94997223689379, 248.25651887160467, 304.3152063365426, 388.350283947937, 524.5680011876731, 767.2206384491694],
[100.05301784132608, 113.35848396861256, 131.65278069164515, 159.14767809191113, 202.8778710382737, 280.0889647952218, 343.5675825037527, 439.28464138310585, 593.7511482659104, 868.9917809673957],
[111.19734640210375, 125.84129019900145, 146.41161155668877, 176.92432946396735, 225.6453902466215, 312.03918204295684, 383.0788127565045, 489.9379293819526, 662.7082249644607, 972.0406966645905],
[122.36331617595104, 138.4872495797818, 161.06079752684278, 194.7194316943961, 248.58281323222425, 343.87227587094526, 422.4052273050718, 540.7414773918587, 732.0760528126114, 1074.7776669179561],
[133.45592130155126, 151.0789991808344, 175.84672340278104, 212.4638156384646, 271.4275621907565, 375.8253506530669, 461.7749395662634, 591.4988617161614, 801.2459795411681, 1177.3399353518955],
[144.5695035386851, 163.69630857392488, 190.52347583238318, 230.34320413638153, 294.236214084507, 407.73537535875323, 501.34566432773175, 642.4106496189363, 870.1817464473505, 1279.9512354203566],
[155.72388565078225, 176.38232078713102, 205.16474955717163, 248.16491779913008, 317.2276193564469, 439.6004023212113, 540.8101240186661, 692.9749915013583, 939.4301645166237, 1381.9179518874203],
[166.8622392403402, 188.88206913399293, 219.80215581216643, 265.9689636660748, 340.0683965445608, 471.5632490876249, 579.884341837921, 743.6512125943299, 1008.0741178513609, 1484.3129054155347],
[177.93688271271424, 201.57761322192542, 234.50322682508042, 283.75588784071186, 362.822402335513, 503.42331461635285, 619.6100677628244, 794.1210532366333, 1078.0809905808098, 1587.0903513486235]])

print(estimatedVal.shape)

# Plot the surface.
surf = ax.plot_surface(width, p, estimatedVal, cmap=cm.coolwarm, linewidth=0, antialiased=True)
ax.set_xlabel("Border Width")
ax.set_ylabel("Duty Cycle (P)")
ax.set_zlabel("Expected Time Required (min)")

# # Customize the z axis.
# ax.set_zlim(-1.01, 1.01)
# ax.zaxis.set_major_locator(LinearLocator(10))
# # A StrMethodFormatter is used automatically
# ax.zaxis.set_major_formatter('{x:.02f}')

# # Add a color bar which maps values to colors.
fig.colorbar(surf, shrink=0.5, aspect=5)

plt.show()